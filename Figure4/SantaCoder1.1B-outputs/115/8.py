def max_fill(grid, capacity):
    import math
    
    # Solution 1:
    # Time complexity: O(n^2), Space complexity: O(n)
    #
    # 1. Sort the grid by row, then column
    # 2. For each row, find the leftmost column that has a 1
    # 3. For each column, find the rightmost column that has a 1
    # 4. For each row, find the leftmost column that has a 1
    # 5. For each column, find the rightmost column that has a 1
    # 6. For each row, find the leftmost column that has a 1
    # 7. For each column, find the rightmost column that has a 1
    # 8. For each row, find the leftmost column that has a 1
    # 9. For each column, find the rightmost column that has a 1
    # 10. For each row, find the leftmost column that has a 1
    # 11. For each column, find the rightmost column that has a 1
    # 12. For each row, find the leftmost column that has a 1
    # 13. For each column, find the rightmost column that has a 1
    # 14. For each row, find the leftmost column that has a 1
    # 15. For each column, find the rightmost column that has a 1
    # 16. For each row, find the leftmost column that has a 1
    # 17. For each column, find the rightmost column that has a 1
    # 18. For each row, find the leftmost column that has a 1
    # 19. For each column, find the rightmost column that has a 1
    # 20. For each row, find the leftmost column that has a 1
    # 21. For each column, find the rightmost column that has a 1
    # 22. For each row, find the leftmost column that has a 1
    # 23. For each column, find the rightmost column that has a 1
    # 24. For each row, find the leftmost column that has a 1
    # 25. For each column, find the rightmost column that has a 1
   