def max_fill(grid, capacity):
    import math
    
    # Solution 1:
    # Time complexity: O(m*n), where m is the number of rows and n is the number of columns
    # Space complexity: O(m*n)
    # Iterate through the grid and check if the current row is full
    # If it is full, then we can extract the water from the current row and add it to the result
    # If it is not full, then we can extract the water from the current column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from the current row and column and add it to the result
    # If the current row and column are not full, then we can extract the water from